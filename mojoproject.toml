[project]
name = "NuMojo"
version = "0.5"
description = "NuMojo is a library for numerical computing written in Mojo ðŸ”¥"
authors = [
    "Shivasankar <shivasankar.ka@gmail.com>",
    "MadAlex1997 <>",
    "Yuhao Zhu (æœ±å®‡æµ©) <dr.yuhao.zhu@outlook.com>",
    "mmenendezg <>",
    "sandstromviktor <>",
    "durnwalder <>"
]
channels = ["conda-forge", "https://conda.modular.com/max/"]
platforms = ["osx-arm64", "linux-64"]
license = "Apache-2.0"
readme = "README.MD"

[tasks]
# compile the package
package = "magic run mojo package numojo"
p = "clear && magic run package"

# format the package
format = "magic run mojo format ./ && magic run mojo format docs/readthedocs/docs.py"

# test whether tests pass and the package can be built
test = "magic run mojo test tests -I ./ -I ./tests/ && magic run package"
t = "clear && magic run test"

# run individual tests to avoid overheat
test_core = "magic run mojo test tests/core -I ./ -I ./tests/"
test_creation = "magic run mojo test tests/routines/test_creation.mojo -I ./ -I ./tests/"
test_manipulation = "magic run mojo test tests/routines/test_manipulation.mojo -I ./ -I ./tests/"
test_linalg = "magic run mojo test tests/routines/test_linalg.mojo -I ./ -I ./tests/"

# run all final checks before a commit
final = "magic run test && magic run format && magic run package"
f = "clear && magic run test && magic run format && magic run package"

# Automatically Generate doc pages
doc_pages = "rm -Rf docs/readthedocs/docs/docs && mojo doc numojo -o docs/readthedocs/docs.json && python docs/readthedocs/docs.py"

# run everything and generate docs before release
release = "clear && magic run final && magic run doc_pages"

[dependencies]
max = "==24.6.0"
python = ">=3.9,<3.13"
numpy = ">=1.19,<2.2"
scipy = ">=1.14,<1.15"
mdutils = ">=1.6.0"